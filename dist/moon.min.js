/*
* Moon 0.0.0
* Copyright 2016, Kabir Shah
* https://github.com/KingPixil/moon/
* Free to use under the MIT license.
* https://kingpixil.github.io/license
*/
"use strict";!function(t){function e(t){var e=t.el,n=t.data,i=t.methods;this.el=document.getElementById(e),this.html=this.el.innerHTML,this.dom={type:this.el.nodeName,children:[],node:this.el},Object.defineProperty(this,"data",{get:function(){return n},set:function(t){n=t,this.build(this.dom.children)}}),this.build=function(t){for(var e=this.data,n=0;n<t.length;n++){var i=t[n];"#text"===i.type?i.val.replace(/{{(\w+)}}/gi,function(t,n){var r=e[n];i.node.textContent=i.val.replace(new RegExp(t,"gi"),r)}):this.build(i.children)}},this.recursiveChildren=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];e.push(this.createElement(i.nodeName,this.recursiveChildren(i.childNodes),i.textContent,i))}return e},this.createElement=function(t,e,n,i){return{type:t,children:e,val:n,node:i}},this.createVirtualDOM=function(t){var e=this.createElement(t.nodeName,this.recursiveChildren(t.childNodes),t.textContent,t);this.dom=e},this.seed=function(){this.createVirtualDOM(this.el)},this.set=function(t,e){this.data[t]=e,this.build(this.dom.children)},this.get=function(t){return this.data[t]},this.ajax=function(t,e,n,i){var r=new XMLHttpRequest;t=t.toUpperCase(),"function"==typeof n&&(i=n);var s="?";if("POST"===t){http.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var h in n)s+=h+"="+n[h]+"&"}r.onreadystatechange=function(){4==r.readyState&&200==r.status&&i(JSON.parse(r.responseText))},r.open(t,e,!0),r.send("POST"===t?s:null)},this.method=function(t){i[t]()},this.seed(),this.build(this.dom.children)}t.Moon=e,t.$=function(t){return t=document.querySelectorAll(t),1===t.length?t[0]:t}}(window);